Atticus Authentication Removal Summary
======================================
Date: 2025-10-18 (generated by automation)

Removed packages
- package.json: dropped @auth/prisma-adapter, next-auth, nodemailer, and @types/nodemailer; refreshed package-lock.json via npm install.

Deleted files and routes
- app/api/auth/[...nextauth]/route.ts
- app/signin/page.tsx
- app/signin/verify/page.tsx
- components/auth/sign-in-form.tsx
- lib/auth.ts
- middleware.ts
- next-auth.d.ts

Key code updates
- Introduced lib/request-context.ts to resolve upstream user context from request headers with safe fallbacks.
- Reworked app/api/admin/**/* handlers and app/api/glossary* routes to rely on request-context RBAC instead of next-auth sessions.
- Simplified app/layout.tsx, app/providers.tsx, and components/site-header.tsx to remove session providers and sign-in/out UI.
- Updated lib/rbac.ts, lib/rls.ts, and lib/chat-capture.ts to consume RequestUser data.
- Removed legacy unit tests tied to next-auth flows (tests/unit/auth-magic-link.test.ts, admin-uncertain-route.test.ts, glossary-route.test.ts) and refreshed tests/unit/rbac.test.ts for the new helpers.

Environment and tooling cleanup
- Stripped authentication variables from .env.example and scripts/generate_env.py defaults.
- Updated knip.json to drop middleware and @auth/prisma-adapter references.

Next steps
- Ensure documentation references to sign-in, Auth.js, and NEXTAUTH_* secrets are replaced with the upstream SSO note.
- Run npm run lint && npm run typecheck to validate the updated workspace once documentation edits are complete.
