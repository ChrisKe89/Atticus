# Seeds

The `seed_manifest.json` generated by `make seed` captures a lightweight summary of the
current CED corpus. It records the active embedding model/version/dimensions, pgvector
lists/probes, document fingerprints, chunk counts, and the first set of chunks (including
SHA-256 hashes) so operators can bootstrap a development database without requiring the
full ingestion pipeline.

Running `make seed` will:

1. Load configuration from `.env`/`config.yaml`.
2. Parse up to 10 source documents from `content/` using the CED chunker.
3. Write `seeds/seed_manifest.json` containing embedding metadata plus deduplicated chunk metadata.

The manifest is designed to be checked into CI as an artifact and referenced by
deployment pipelines or smoke tests that need deterministic seed data.

> **Note:** Table extraction relies on optional dependencies (`camelot`, `tabula`, OpenCV).
> If they are unavailable the script skips table metadata gracefully; install them for
> full fidelity in production environments.

## Contributor checklist

- Run `pytest tests/test_seed_manifest.py` to confirm the manifest structure and
  chunk metadata remain deterministic for CI.
- Execute `make seed` before opening a PR whenever documents inside `content/`
  change; commit the refreshed `seeds/seed_manifest.json` if the diff is
  intentional.
- Document any new optional dependencies required for seeding inside this file
  and `REQUIREMENTS.md` to keep onboarding clear.
